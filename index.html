<!DOCTYPE html>
<html lang="en-us" manifest="idbtasklist.manifest">
<head>
    <meta charset="utf-8">
    <title>IndexedDB Task List</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="js/bootup.js"></script>
</head>
<body>

<header><h1>ToDoLocally</h1></header>

<form id="addNew" class="hidden" data-mode="add">
    <div>
        <input type="hidden" name="key" id="key" value="">
        <label for="task">Summary *</label>
        <input type="text" name="task" id="task" value="" required>
    </div>
    <div>
        <span id="stage-label">Task stage</span>
        <p id="stage-display"></p>
        <label for="status">Done</label>
        <input type="checkbox" id="status" name="status" value="">
        <input type="hidden" name="resolved" id="resolved" value="">
        <label for="display">Hidden</label>
        <input type="checkbox" id="display" name="display" value="">
    </div>
    <div>
        <label for="due">Due date</label>
        <input type="date" id="due" name="due" value="">
    </div>

    <div>
        <label for="priority">Priority</label>
        <select id="priority" name="priority">
            <option value="0">None</option>
            <option value="1">Low</option>
            <option value="2">Medium</option>
            <option value="3">High</option>
        </select>
    </div>

    <div>
        <label for="notes">Notes</label>
        <textarea id="notes" name="notes" cols="30" rows="3"></textarea>
        <div>
            <button type="button" class="submit" id="save-button">Save</button>
            <button type="button" id="delete-button">Delete</button>
            <button type="button" id="cancel-button" onclick="hideNewForm()">Cancel</button>
        </div>
    </div>
</form>
<br>
<br>
<section id="tasklist">
    <div id="search" class="search-form">
        <button type="button" class="submit" id="search-button">Search</button>
        <label for="find"></label><input type="search" id="find" name="find"/>
    </div>
    <br>
    <div id="list">
        <table id="task-table">
            <thead>
            <tr>
                <th>
                    <button class="add-button" type="button" id="showadd-current"
                            onclick="showNewForm('current', false)">+
                    </button>
                    Current tasks
                </th>
                <th>
                    <button class="add-button" type="button" id="showadd-ongoing"
                            onclick="showNewForm('ongoing', false)">+
                    </button>
                    Ongoing
                </th>
                <th>
                    <button class="add-button" type="button" id="showadd-backlog"
                            onclick="showNewForm('backlog', false)">+
                    </button>
                    Backlog
                </th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>
                    <div class="task-area" id="current-tasks"></div>
                </td>
                <td>
                    <div class="task-area" id="ongoing-tasks"></div>
                </td>
                <td>
                    <div class="task-area" id="backlog-tasks"></div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</section>

<footer>
</footer>
<script type="text/javascript" src="js/utils.js"></script>
<script type="text/javascript" src="js/todolist.js"></script>
</body>
</html>
